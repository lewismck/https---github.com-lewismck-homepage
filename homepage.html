<!DOCTYPE html>
<html>
<head>
	<meta charset="utf8">
	<title>Homepage</title>
	<meta name=viewport content="width=device-width, initial-scale=0.9">
	<link rel="stylesheet" href="stylesheets/style.css">
	<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400' rel='stylesheet' type='text/css'/>
	<link rel="shortcut icon" href="http://www.lewismckeown.com/favicon.ico" type="image/x-icon"/>
	
	<script>
	function startTime() {
	    var today=new Date();
	    var h=today.getHours();
	    var m=today.getMinutes();
	    var s=today.getSeconds();
	    m = checkTime(m);
	    s = checkTime(s);
		var greeting = "";
		if(h < 12){
			greeting = "Good Morning";
		}
		if(h > 11){
			greeting = "Good Afternoon";
		}
		if(h > 17){
			greeting= "Good Evening";
		}
		if(h > 19 && m > 29){
			greeting = "It's Night Time";
		}
		
	    document.getElementById('time').innerHTML = h+":"+m+":"+s +"<br> <br>" + greeting;
	    var t = setTimeout(function(){startTime()},500);
		backgroundSwitch(h);
		
	}

	function checkTime(i) {
	    if (i<10) {i = "0" + i};  // add zero in front of numbers < 10
	    return i;
	}
	
	//fuzzy clock totally scrappy no thought put into this 
	//but hey I'll make it neat soon I've got videogames to play
	function fuzzyTime() {
	    var today=new Date();
	    var h=today.getHours();
	    var m=today.getMinutes();
	    var s=today.getSeconds();
	    m = checkTime(m);
	    s = checkTime(s);
		var greeting = "";
		var newH = 0;
		if(h < 12){
			greeting = "Good Morning";
		}
		if(h > 11){
			greeting = "Good Afternoon";
		}
		if(h > 17){
			greeting= "Good Evening";
		}
		if(h > 19 && m > 29){
			greeting = "It's Night Time";
		}
		//keep h 12 hour
		if(h > 11){
			newH = h-12;
		}
		else{
			newH = h;
		}
		
		if(m < 15){
			document.getElementById('time').innerHTML = "About: "+newH+" o'clock"+"<br> <br>" + greeting;
		}
		if(m > 14){
			document.getElementById('time').innerHTML = "About quarter past: "+newH+"<br> <br>" + greeting;
		}
		if(m > 29){

			document.getElementById('time').innerHTML = "About half past: "+newH+"<br> <br>" + greeting;
		}
		if(m > 44){
			var nextH = newH+1
			document.getElementById('time').innerHTML = "About quarter to: "+nextH+"<br> <br>" + greeting;
		}
		
		var t = setTimeout(function(){fuzzyTime()},500);
		backgroundSwitch(h);
		
	}
	
	//background switcher
	function backgroundSwitch(i){
		var brighton = 'url("stylesheets/b.jpg")';
		var morning = 'url("stylesheets/a.jpg")';
		var evening = 'url("stylesheets/c.jpg")';
		
		if(i < 18){
			document.body.style.background = morning
		}
		else if(i > 17){	
			document.body.style.background = evening;
		}
		else{ //pointless but the image is there.
			document.body.style.background = brighton;
		}
	
	}

	//local storage testing
	function chooseTime(){
	    var d=new Date();
	    var h=d.getHours();
		backgroundSwitch(h);
		console.log("test");
		populateStorage('clock','regular');
		
	}
	//method to fill storage
	function populateStorage(id, value){
		localStorage.setItem(id, value);
	}
	//check the local storage and set clock accordingly
	function checkStorage(){
		if(!localStorage.getItem('clock')){
			chooseTime();
		}
		if(localStorage.getItem('clock') == "fuzzy"){
			fuzzyTime();
		}
		if(localStorage.getItem('clock') == "regular"){
			startTime();
		}
	}
	//clear all local storage
	function clearStorage(){
		localStorage.clear();
	}
	//switch the current clock to the alternative
	function switchClock(){
		if(localStorage.getItem('clock') == 'fuzzy'){
			populateStorage('clock','regular');
			startTime();
			location.reload();
		}
		else if(localStorage.getItem('clock') == 'regular'){
			populateStorage('clock','fuzzy');
			fuzzyTime();
			location.reload();
		}
	}

	
	</script>
	
</head>
<body onload="checkStorage()">
	<section class="grid">
	<div id="time"></div>
	<section class="div2" id="ftime">
		<a class="btn-alt" onclick="switchClock()">switch Clock</a>
	</section>
</section>
	<br>
	<br>
	<br>
	<section class="grid">
		
	<section class="col5th">
			<h1>Video</h1>
			<a href="http://www.youtube.com">youtube</a><br>
			<a href="https://www.netflix.com">netflix</a><br>
	</section>
	<section class="col5th">
		<h1>Social</h1>
		<a href="https://www.messenger.com">messenger</a><br>
		<a href="https://www.twitter.com">twitter</a>
	</section>

	<section class="col5th">
		<h1>Blag</h1>
		<a href="http://blog.codinghorror.com/">coding horror</a><br>
		<a href="https://news.ycombinator.com/">hn</a><br>
		<a href="http://www.letterboxd.com">letterboxd</a>
		</section>
		
		<section class="col5th">
			<h1>Mail</h1>
			<a href="https://inbox.google.com/u/0/">gmail</a><br>
			<a href="https://dub131.mail.live.com/default.aspx?id=64855&rru=inbox">live</a><br>
			<a href="https://outlook.office365.com/owa/#path=/mail">kent mail</a>
		</section>
		<br>
		<br>
		<section class="col5th">
			<h1>Degree</h1>
			<a href="https://moodle.kent.ac.uk/2014/my/">moodle</a><br>
			<a href="http://www.kent.ac.uk/student/?logged_out=true">kent</a><br>
			</section>
			
		<section class="col5th">
			<h1>Function</h1>
			<a href="https://github.com/">github</a><br>
			<a href="http://jsbin.com/vojove/3/edit?html,js,output">jsbin</a><br>
			<a href="http://stackoverflow.com/">stackoverflow</a>
			</section>

		<section class="col5th">
			<h1>Cloud</h1>
			<a href="https://drive.google.com/drive/my-drive">drive</a><br>
			<a href="https://www.dropbox.com/home">dropbox</a><br>
			<a href="https://www.icloud.com/">icloud</a>
			</section>
			
			<section class="col5th">
				<h1>Music</h1>
				<a href="https://soundcloud.com/stream">soundcloud</a><br>
				<a href="https://archive.rebeccablacktech.com/mu/">/mu/archive</a><br>
				<a href="http://www.noisli.com/">noisli</a>
				</section>
		</section>
	</section>

			
</body>
</html>